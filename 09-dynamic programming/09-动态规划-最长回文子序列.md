---
status: âœ…å®Œæˆ
start: 2025-06-30
due: 2025-06-30
topic:
  - ç®—æ³•
  - ä»£ç éšæƒ³å½•
tags:
  - project/ä»£ç éšæƒ³å½•ç®—æ³•è¥
  - è®¡ç®—æœº/ç®—æ³•
recommend: 1
priority: 1
authors:
  - Donghan
dg-publish: false
---
## é¢˜ç›®
[516.æœ€é•¿å›æ–‡å­åºåˆ— | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/longest-palindromic-subsequence/)

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²Â `s`, æ‰¾å‡ºå…¶ä¸­æœ€é•¿çš„å›æ–‡å­åºåˆ—, å¹¶è¿”å›è¯¥åºåˆ—çš„é•¿åº¦.

**å­åºåˆ—å®šä¹‰ä¸º:** ä¸æ”¹å˜å‰©ä½™å­—ç¬¦é¡ºåºçš„æƒ…å†µä¸‹, åˆ é™¤æŸäº›å­—ç¬¦æˆ–è€…ä¸åˆ é™¤ä»»ä½•å­—ç¬¦å½¢æˆçš„ä¸€ä¸ªåºåˆ—.

## åˆæ­¥è§£ç­”
æ³¨æ„ [[09-åŠ¨æ€è§„åˆ’-å›æ–‡å­ä¸²]]é‡Œçš„æ˜¯å­ä¸² (è¿ç»­çš„), è€Œæœ¬é¢˜æ˜¯å­åºåˆ— (ä¸è¿ç»­çš„).

**åŠ¨æ€è§„åˆ’**:
- `dp[i][j]` è¡¨ç¤º `s[i] to s[j]` é‡Œæœ€é•¿å›æ–‡å­åºåˆ—çš„é•¿åº¦
- é€’æ¨å…¬å¼: è‹¥ `s[i] == s[j]`, æœ‰ä¸¤ç§æƒ…å†µ, `i=j` é•¿åº¦æ˜¯ 1, `j>i` é•¿åº¦æ˜¯ `dp[i+1][j-1]+2`; è‹¥ `s[i] != s[j]`, åˆ™æœ€é•¿å›æ–‡å¯èƒ½å‡ºç°åœ¨`dp[i+1][j-1], dp[i][j-1], dp[i+1][j]`, å–æœ€å¤§å€¼

æ—¶é—´/ç©ºé—´å¤æ‚åº¦æ˜¯ O(n^2).
```python
class Solution:
    def longestPalindromeSubseq(self, s: str) -> int:
        n = len(s)
        dp = [[0]*n for _ in range(n)]

        for i in range(n-1, -1, -1):
            for j in range(i, n):
                if s[i] == s[j]:
                    if j - i < 1: dp[i][j] = 1
                    else: dp[i][j] = dp[i+1][j-1] + 2
                else:
                    dp[i][j] = max(
                        dp[i+1][j-1],
                        dp[i][j-1],
                        dp[i+1][j]
                    )
        return dp[0][-1]
```

## å‚è€ƒè§£ç­”
ğŸš¨é€’æ¨å…¬å¼é‡Œçš„ `max(..., dp[i+1][j-1])` æ˜¯å¤šä½™çš„, å› ä¸ºåŒ…å«äº `dp[i][j-1]` å’Œ `dp[i+1][j]` å†…äº†!!
```python
class Solution:
    def longestPalindromeSubseq(self, s: str) -> int:
        dp = [[0] * len(s) for _ in range(len(s))]
        for i in range(len(s)):
            dp[i][i] = 1
        for i in range(len(s)-1, -1, -1):
            for j in range(i+1, len(s)): # i==j æƒ…å†µåˆå§‹åŒ–å¤„ç†äº†
                if s[i] == s[j]:
                    dp[i][j] = dp[i+1][j-1] + 2
                else:
	                # ğŸš¨ä¸ç”¨è€ƒè™‘ dp[i+1][j-1], å› ä¸ºé‡å äº†
                    dp[i][j] = max(dp[i+1][j], dp[i][j-1])
        return dp[0][-1]
```


## å¿ƒå¾—

---
## links


## reference
