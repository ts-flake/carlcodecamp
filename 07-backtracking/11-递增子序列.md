## é¢˜ç›®
[491.éé€’å‡å­åºåˆ— | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/non-decreasing-subsequences/description/)

è¿”å›

## åˆæ­¥è§£ç­”
æœ¬é¢˜æ˜¯å­é›†é—®é¢˜, å’Œ [[07-å›æº¯ç®—æ³•-å­é›†II]] ç±»ä¼¼, ğŸš¨æœ¬é¢˜æœ‰ä¸ªå‘, ç»™å®š `nums` çš„é¡ºåºä¸èƒ½æ”¹å˜, å³**ä¸èƒ½**ç”¨å…ˆæ’åºçš„æ–¹å¼å»é‡.
```python
class Solution:
    def findSubsequences(self, nums: List[int]) -> List[List[int]]:
        res = []
        def backtracking(nums, path):
            # if not nums: return # ç»ˆæ­¢æ¡ä»¶å¯åˆ , å› ä¸º for å¾ªç¯ä¿è¯é€’å½’æœ‰é™
            used = set() # ç”¨äºè®°å½•åŒå±‚è§è¿‡çš„èŠ‚ç‚¹
            for i,x in enumerate(nums):
                if i > 0 and x in used: continue # åŒå±‚å»é‡, ğŸš¨è¿™é‡Œä¸èƒ½ç”¨ x == nums[i-1], å› ä¸ºä¾èµ–äºå‡è®¾ sorted(nums)
                if len(path) > 0 and path[-1] > x: continue # å‰ªæ, âœ…åŒè·¯å¾„ä¸Šè·³è¿‡ä¸€èŠ‚ç‚¹ç­‰äºç§»åŠ¨åˆ°åŒå±‚ä¸‹ä¸€ä¸ª
                
                path.append(x)
                if len(path) > 1 and path[-1] >= path[-2]:
                    res.append(path[:])
                backtracking(nums[i+1:], path)
                path.pop() # æ˜¾å¼å›æº¯
                used.add(x)
        
        backtracking(nums, [])
        return res    
```

## å‚è€ƒè§£ç­”
å›é¡¾ [[03-å“ˆå¸Œè¡¨]]é‡Œå¯¹ list, set, dict çš„è®¨è®º. æœ¬é¢˜æç¤º `nums` é‡Œçš„æ•°å­—åœ¨ `[-100,100]`, æ˜¯æœ‰é™é‡ä¸”ä¸å¤§, æ•…ç”¨ list æ¯” set æ›´é«˜æ•ˆ.
```python
class Solution:
    def findSubsequences(self, nums):
        result = []
        path = []
        self.backtracking(nums, 0, path, result)
        return result

    def backtracking(self, nums, startIndex, path, result):
        if len(path) > 1:
            result.append(path[:])  # æ³¨æ„è¦ä½¿ç”¨åˆ‡ç‰‡å°†å½“å‰è·¯å¾„çš„å‰¯æœ¬åŠ å…¥ç»“æœé›†
        
        used = [0] * 201  # ä½¿ç”¨æ•°ç»„æ¥è¿›è¡Œå»é‡æ“ä½œï¼Œé¢˜ç›®è¯´æ•°å€¼èŒƒå›´[-100, 100] ğŸ‘ˆ
        for i in range(startIndex, len(nums)):
            if (path and nums[i] < path[-1]) or used[nums[i] + 100] == 1:
                continue  # å¦‚æœå½“å‰å…ƒç´ å°äºä¸Šä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…å·²ç»ä½¿ç”¨è¿‡å½“å‰å…ƒç´ ï¼Œåˆ™è·³è¿‡å½“å‰å…ƒç´ 
            
            used[nums[i] + 100] = 1  # æ ‡è®°å½“å‰å…ƒç´ å·²ç»ä½¿ç”¨è¿‡
            path.append(nums[i])  # å°†å½“å‰å…ƒç´ åŠ å…¥å½“å‰é€’å¢å­åºåˆ—
            self.backtracking(nums, i + 1, path, result)
            path.pop()
```

## å¿ƒå¾—
ä¹‹å‰å†™è§£ç­”éƒ½æ²¡æ€ä¹ˆè€ƒè™‘æ€§èƒ½, èƒ½ pass å°±è¡Œ. ä¾‹å¦‚å›æº¯é‡Œ `backtracking(nums[i+1:], path+[x])` ä¸¤å¤„å‚æ•°éƒ½è¦åˆ›å»ºå‰¯æœ¬, è™½ç„¶ç®€æ´ä½†æ•ˆç‡ä¸é«˜. æ¨èå‚è€ƒè§£ç­”çš„å†™æ³•, ç”¨ `startIndex` å’Œ `path.append/.pop` è¿™æ · O(1) çš„æ“ä½œ.

ä½¿ç”¨å“ˆå¸Œè¡¨æ—¶ä¹Ÿåˆ«å¿˜äº†åˆ†æä¸€ä¸‹ç”¨ list, set, è¿˜æ˜¯ dict æ¯”è¾ƒåˆé€‚.