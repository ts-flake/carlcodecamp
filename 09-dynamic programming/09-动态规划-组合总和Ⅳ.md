---
status: âœ…å®Œæˆ
start: 2025-06-03
due: 2025-06-03
topic:
  - ç®—æ³•
  - ä»£ç éšæƒ³å½•
tags:
  - project/ä»£ç éšæƒ³å½•ç®—æ³•è¥
  - è®¡ç®—æœº/ç®—æ³•
recommend: 2
priority: 1
authors:
  - Donghan
dg-publish: false
---
## é¢˜ç›®
[377.ç»„åˆæ€»å’Œâ…£ | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/combination-sum-iv/)

ç»™ä½ ä¸€ä¸ªç”±**ä¸åŒ**æ•´æ•°ç»„æˆçš„æ•°ç»„Â `nums`, å’Œä¸€ä¸ªç›®æ ‡æ•´æ•°Â `target`. è¯·ä½ ä»Â `nums`Â ä¸­æ‰¾å‡ºå¹¶è¿”å›æ€»å’Œä¸ºÂ `target`Â çš„å…ƒç´ ç»„åˆçš„ä¸ªæ•° (å…ƒç´ å¯é‡å¤ä½¿ç”¨).

è¯·æ³¨æ„, **é¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆ**.
## åˆæ­¥è§£ç­”
ä¹ä¸€çœ‹æ„Ÿè§‰å’Œ [[09-åŠ¨æ€è§„åˆ’-é›¶é’±å…‘æ¢II]] ä¸æ˜¯ä¸€æ ·çš„å—? å…¶å®å¾ˆä¸ä¸€æ ·!! éå†ä¸Šæœ‰ä¸ªç†è§£éš¾åº¦, çœ‹ä¸‹é¢è§£ç­”.

## å‚è€ƒè§£ç­”
ğŸš¨[[09-åŠ¨æ€è§„åˆ’-é›¶é’±å…‘æ¢II]] æ˜¯**æ±‚ç»„åˆ**; æœ¬é¢˜æ˜¯**æ±‚æ’åˆ—**. è™½ç„¶é€’æ¨å…¬å¼æ˜¯ä¸€æ ·çš„, ä½†**éå†é¡ºåºä¸ä¸€æ ·**!!
- æ±‚ç»„åˆ - å…ˆéå†ç‰©å“å†èƒŒåŒ…
- æ±‚æ’åˆ— - **å…ˆéå†èƒŒåŒ…å†ç‰©å“**

â“æ€ä¹ˆç†è§£è¿™ä¸ªå…ˆèƒŒåŒ…å†ç‰©å“çš„é¡ºåºå‘¢?
![[dp_backpack_sum.png|400]]
ä»¥ä¸Šå›¾ä¸ºä¾‹. çœ‹åˆ°å…ˆèƒŒåŒ…, å‡è®¾å½“å‰éå†åˆ° `i=3`, è¿™é‡Œä¸€å…±æœ‰å››ç§æƒ…å†µæ±‚å’Œä¸º `3`, åˆ†åˆ«æ˜¯:
- å…ˆæ”¾ä¸€ä¸ª `1`, æˆ‘ä»¬è¦å‡‘ä¸ª`2`, å³ `dp[2]=2`, å› ä¸º `{(1,1), (2)}`, æœ€ç»ˆå¾— `{(1,1,1), (1,2)}`
- å…ˆæ”¾ä¸€ä¸ª `2`, æˆ‘ä»¬è¦å‡‘ä¸ª`1`, å³ `dp[1]=1`, å› ä¸º `{(1)}`, æœ€ç»ˆå¾— `{(2,1)}`
- å…ˆæ”¾ä¸€ä¸ª `3`, æˆ‘ä»¬è¦å‡‘ä¸ª`0`, å³ `dp[0]=1`, æœ€ç»ˆå¾— `{(3)}`

âœ…æˆ‘ä»¬çœ‹åˆ°**å…ˆèƒŒåŒ…å†ç‰©å“**çš„éå†é¡ºåº**èƒ½è€ƒè™‘åˆ°ç‰©å“çš„æ’åˆ—**, ä¾‹å¦‚è¿™é‡Œçš„ `(1,2)` å’Œ `(2,1)`. è€Œ**å…ˆç‰©å“å†èƒŒåŒ…**æ—¶, ç‰©å“**åªæœ‰ä¸€ä¸ªé¡ºåº**è¿›å…¥åˆ°èƒŒåŒ…é‡Œå°±æ— æ³•è€ƒè™‘æ’åˆ—.
```python
class Solution:
    def combinationSum4(self, nums: List[int], target: int) -> int:
        dp = [0] * (target + 1)
        dp[0] = 1
        for i in range(1, target + 1):  # éå†èƒŒåŒ…
            for j in range(len(nums)):  # éå†ç‰©å“
                if i - nums[j] >= 0:
                    dp[i] += dp[i - nums[j]]
        return dp[target]
```


è¿™é‡Œä¹Ÿå›å¿†çœ‹çœ‹ [[07-å›æº¯ç®—æ³•]]æ˜¯æ€ä¹ˆå¤„ç†çš„:
```python
# è®°å¿†åŒ–æœç´¢
class Solution:
    def combinationSum4(self, nums: List[int], target: int) -> int:
        # è®°å¿†åŒ–æœç´¢ï¼Œå­˜å‚¨å·²ç»è®¡ç®—è¿‡çš„å’Œå¯¹åº”çš„ç»„åˆæ•°é‡
        # ç»„åˆé—®é¢˜ï¼Œæ¯ä¸ªå…ƒç´ å¯ä»¥å¤šé€‰ï¼Œæ¯æ¬¡ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹éå†
        @cache # âœ…ä¼˜åŒ–æŠ€å·§ cache
        def dfs(cnt):
            # å½“å½“å‰ç»„åˆçš„å’Œç­‰äºç›®æ ‡å€¼æ—¶ï¼Œæ‰¾åˆ°ä¸€ç§æœ‰æ•ˆç»„åˆï¼Œè¿”å› 1
            if cnt == target:
                return 1
            # å½“å½“å‰ç»„åˆçš„å’Œè¶…è¿‡ç›®æ ‡å€¼æ—¶ï¼Œæ­¤ç»„åˆæ— æ•ˆï¼Œè¿”å› 0
            if cnt > target:
                return 0
            # åˆå§‹åŒ–ç»„åˆæ•°é‡ä¸º 0
            total = 0
            # éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ 
            for num in nums:
                # é€’å½’è®¡ç®—é€‰æ‹©å½“å‰å…ƒç´ åå‰©ä½™å’Œçš„ç»„åˆæ•°é‡ï¼Œå¹¶ç´¯åŠ åˆ°æ€»æ•°ä¸­
                total += dfs(cnt + num)
            return total

        # ä»å’Œä¸º 0 å¼€å§‹é€’å½’è®¡ç®—
        return dfs(0)
```
## å¿ƒå¾—

---
## links


## reference
