---
status: ğŸ§­å‡†å¤‡
start: 2025-05-25
due: 2025-05-25
topic:
  - ç®—æ³•
  - ä»£ç éšæƒ³å½•
tags:
  - project/ä»£ç éšæƒ³å½•ç®—æ³•è¥
  - è®¡ç®—æœº/ç®—æ³•
  - çŸ¥è¯†ç‚¹
recommend: 2
priority: 1
authors:
  - Donghan
share: "false"
---
## é¢˜ç›®
[134.åŠ æ²¹ç«™ | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/gas-station/description/)

åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰Â `n`Â ä¸ªåŠ æ²¹ç«™, å…¶ä¸­ç¬¬Â `i`Â ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹Â `gas[i]`Â å‡.

ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬Â `i`Â ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬Â `i+1`Â ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹Â `cost[i]`Â å‡. ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘, å¼€å§‹æ—¶æ²¹ç®±ä¸ºç©º.

ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„Â `gas`Â å’ŒÂ `cost`, å¦‚æœä½ å¯ä»¥æŒ‰é¡ºåºç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨, åˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·, å¦åˆ™è¿”å›Â `-1`. å¦‚æœå­˜åœ¨è§£ï¼Œåˆ™é¢˜ç›®**ä¿è¯**å®ƒæ˜¯**å”¯ä¸€**çš„.

## åˆæ­¥è§£ç­”
æ€»æ„Ÿè§‰å—åˆ°äº† [[08-è´ªå¿ƒç®—æ³•-ä¹°å–è‚¡ç¥¨æœ€ä½³æ—¶æœºII]] å’Œ [[08-è´ªå¿ƒç®—æ³•-æœ€å¤§å­åºå’Œ]] çš„ä¸€ç‚¹å¯å‘, åº”è¯¥ä»**å·®å€¼**å…¥æ‰‹, åœ¨æœ¬é¢˜é‡Œå³å‰©ä½™æ²¹é‡.
```python
class Solution:
    def canCompleteCircuit(self, gas: List[int], cost: List[int]) -> int:
        diff = [g-c for g,c in zip(gas,cost)] # è®¡ç®—æ¯ç«™è¿‡åå‰©ä½™æ²¹é‡
        if sum(diff) < 0: return -1 # èµ°ä¸€åœˆå‰©ä½™ä¸ºè´Ÿ
        
        # å‡ºå‘åŠ æ²¹ç«™çš„æ¡ä»¶æ˜¯ä»è¯¥ç«™å¾€åå‰©ä½™æ²¹é‡å§‹ç»ˆä¸ºæ­£
        _sum = 0
        ind = 0
        for i,d in enumerate(diff):
            _sum += d
            if _sum < 0:
                _sum = 0
                ind = i+1
        return ind
```

## å‚è€ƒè§£ç­”
"ä»£ç éšæƒ³å½•"é‡Œç»™å‡ºäº†ä¸‰ç§å‚è€ƒ: æš´åŠ›, è´ªå¿ƒ1 å’Œ è´ªå¿ƒ2. **æš´åŠ›æ³•å°±æ˜¯æ¨¡æ‹Ÿ, æ¯”è¾ƒè€ƒéªŒä»£ç åŠŸå¤«** (ç”¨ for å¾ªç¯å¯¹ `gas` ä»å¤´éå†, **ç”¨ while å¾ªç¯æ¥æ¨¡æ‹Ÿå›ç¯**).

è´ªå¿ƒ2 å’Œè‡ªå·±å†™çš„æ˜¯ä¸€è‡´çš„, ä¸€å¤„æ”¹è¿›æ˜¯åªç”¨ä¸€æ¬¡ for å¾ªç¯å®Œæˆ.
```python
class Solution:
    def canCompleteCircuit(self, gas: List[int], cost: List[int]) -> int:
        curSum = 0  # å½“å‰ç´¯è®¡çš„å‰©ä½™æ²¹é‡
        totalSum = 0  # æ€»å‰©ä½™æ²¹é‡
        start = 0  # èµ·å§‹ä½ç½®
        
        for i in range(len(gas)):
            curSum += gas[i] - cost[i]
            totalSum += gas[i] - cost[i]
            
            if curSum < 0:  # å½“å‰ç´¯è®¡å‰©ä½™æ²¹é‡curSumå°äº0
                start = i + 1  # èµ·å§‹ä½ç½®æ›´æ–°ä¸ºi+1
                curSum = 0  # curSumé‡æ–°ä»0å¼€å§‹ç´¯è®¡
        
        if totalSum < 0:
            return -1  # æ€»å‰©ä½™æ²¹é‡totalSumå°äº0ï¼Œè¯´æ˜æ— æ³•ç¯ç»•ä¸€åœˆ
        return start
```


## å¿ƒå¾—

---
## links


## reference
- [åŠ æ²¹ç«™é¢˜è§£ | ä»£ç éšæƒ³å½•](https://programmercarl.com/0134.%E5%8A%A0%E6%B2%B9%E7%AB%99.html#%E7%AE%97%E6%B3%95%E5%85%AC%E5%BC%80%E8%AF%BE)