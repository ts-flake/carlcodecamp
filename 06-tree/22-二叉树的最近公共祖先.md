## é¢˜ç›®
[236.äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/description/)

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ. å‡è®¾æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„.

## åˆæ­¥è§£ç­”
æœ¬é¢˜å¯ä»¥åˆ©ç”¨å¯¹æ¯”èŠ‚ç‚¹çš„è·¯å¾„æ¥å¯»æ‰¾æœ€è¿‘å…¬å…±ç¥–å…ˆ. ç”¨ [[06-äºŒå‰æ ‘-è·¯å¾„æ€»å’Œ]]æˆ– [[06-äºŒå‰æ ‘-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„]]é‡Œçš„æ–¹æ³•å¾—åˆ°ä»æ ¹èŠ‚ç‚¹å‡ºå‘, æŠµè¾¾èŠ‚ç‚¹ `p` å’Œ `q` çš„è·¯å¾„. ç„¶åä»æ ¹èŠ‚ç‚¹å¼€å§‹æ¯”å¯¹, ç¬¬ä¸€ä¸ªåˆ†å‰å£ (æ‰¾åˆ†å‰çš„æ€æƒ³åœ¨ [[02-é“¾è¡¨-é“¾è¡¨ç›¸äº¤]]é‡Œä¹Ÿæœ‰ä½“ç°) å°±æ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆ. è‹¥ä¸¤ä¸ªèŠ‚ç‚¹ä»»ä½•ä¸€ä¸ªæ˜¯å¯¹æ–¹çš„ç¥–å…ˆ, åˆ™ç¥–å…ˆçš„è·¯å¾„ä¸€å®šåŒ…å«äºå­å­™è·¯å¾„.

**è·¯å¾„+æ‰¾åˆ†å‰**:
```python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, x):
#         self.val = x
#         self.left = None
#         self.right = None

class Solution:
    def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -> 'TreeNode':
        paths = []
        def get_path(node, path, all_found=False):
            if not node or all_found: return
            # ä¸­
            if node in [p,q]:
                paths.append(path+[node])
                if len(paths) == 2:
                    all_found = True
            get_path(node.left, path+[node], all_found) # å·¦
            get_path(node.right, path+[node], all_found) # å³
        
        get_path(root, [])
        ans = None
        for p1,p2 in zip(*paths):
            if p1 == p2:
                ans = p1
            else: break
        return ans
```

## å‚è€ƒè§£ç­”
ğŸ‘†ä¸Šé¢çš„æ–¹æ³•æ˜¯è‡ªä¸Šè€Œä¸‹çš„. æœ¬é¢˜ç”¨è‡ªä¸‹è€Œä¸Šçš„å›æº¯çš„æ–¹æ³•ä¹Ÿå¾ˆæ–¹ä¾¿.

**ååº+å›æº¯**:
```python
class Solution:
    def lowestCommonAncestor(self, root, p, q):
        if root == q or root == p or root is None:
            return root

        left = self.lowestCommonAncestor(root.left, p, q)
        right = self.lowestCommonAncestor(root.right, p, q)

        if left is not None and right is not None:
            return root

        if left is None and right is not None:
            return right
        elif left is not None and right is None:
            return left
        else: 
            return None
```

## å¿ƒå¾—