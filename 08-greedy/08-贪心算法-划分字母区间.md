---
status: ğŸ§­å‡†å¤‡
start: 2025-05-26
due: 2025-05-26
topic:
  - ç®—æ³•
  - ä»£ç éšæƒ³å½•
tags:
  - project/ä»£ç éšæƒ³å½•ç®—æ³•è¥
  - è®¡ç®—æœº/ç®—æ³•
  - çŸ¥è¯†ç‚¹
recommend: 1
priority: 1
authors:
  - Donghan
share: "false"
---
## é¢˜ç›®
[763.åˆ’åˆ†å­—æ¯åŒºé—´ | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/partition-labels/)

ç»™ä¸€å­—ç¬¦ä¸² `s`, å°†**é‡å¤å‡ºç°çš„å­—æ¯åˆ’åˆ†æˆä¸€ä¸ªå•è¯**, **å°½å¯èƒ½å¤š**çš„åˆ’åˆ†. ä¾‹å¦‚, å­—ç¬¦ä¸²Â `"ababcc"`Â èƒ½å¤Ÿè¢«åˆ†ä¸ºÂ `["abab", "cc"]`, ä½†ç±»ä¼¼Â `["aba", "bcc"]`Â æˆ–Â `["ab", "ab", "cc"]`Â çš„åˆ’åˆ†æ˜¯éæ³•çš„.

ä¿è¯åˆ’åˆ†åçš„å•è¯**ä¿æŒåŸæœ‰çš„é¡ºåº**. è¿”å›æ¯ä¸ªå•è¯çš„é•¿åº¦.

## åˆæ­¥è§£ç­”
å°½å¯èƒ½å¤šåœ°æœ‰æ•ˆåˆ’åˆ†å•è¯, å°±æ˜¯æ‰¾æœ€å°ä¸ç›¸äº¤é›†åˆæˆ–**æœ€å¤§åˆ’åˆ†**. ä¸‹é¢çš„ä»£ç åŸºæœ¬å°±æ˜¯æ¨¡æ‹Ÿäº†æ‰¾æœ€å°ä¸ç›¸äº¤é›†åˆçš„è¿‡ç¨‹, å¾ªç¯äº†ä¸¤æ¬¡, æ—¶é—´å¤æ‚åº¦æ˜¯ O(n^2).
```python
class Solution:
    def partitionLabels(self, s: str) -> List[int]:
        res = []
        start = 0
        end = 1
        while end <= len(s):
            while set(s[start:end]).intersection(set(s[end:])): # å¯»æ‰¾æœ€å°ä¸ç›¸äº¤é›†åˆ
                end += 1
            res.append(len(s[start:end]))
            start = end # æ›´æ–°å•è¯è¾¹ç•Œ
            end += 1
        return res
```

## å‚è€ƒè§£ç­”
![[greedy_partition.png|700]]
å‚è€ƒä»£ç ç»™å‡ºäº†ä¸€ä¸ªå¾ˆå·§çš„æ–¹æ³•, å³é€šè¿‡å¯»æ‰¾**å­—æ¯å‡ºç°çš„æœ€è¿œä½ç½®**, å¹¶ä¸æ–­æ›´æ–°**æœ€è¿œè¾¹ç•Œ**æ¥åˆ’åˆ†å•è¯.

```python
class Solution:
    def partitionLabels(self, s: str) -> List[int]:
        last_occurrence = {}  # å­˜å‚¨æ¯ä¸ªå­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®
        for i, ch in enumerate(s):
            last_occurrence[ch] = i

        result = []
        start = 0
        end = 0
        for i, ch in enumerate(s):
            end = max(end, last_occurrence[ch])  # æ‰¾åˆ°å½“å‰å­—ç¬¦å‡ºç°çš„æœ€è¿œä½ç½®
            if i == end:  # å¦‚æœå½“å‰ä½ç½®æ˜¯æœ€è¿œä½ç½®ï¼Œè¡¨ç¤ºå¯ä»¥åˆ†å‰²å‡ºä¸€ä¸ªåŒºé—´
                result.append(end - start + 1)
                start = i + 1

        return result
```

è¿˜æœ‰ä¸€ä¸ªåŒ [[08-è´ªå¿ƒç®—æ³•-ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ]]å’Œ [[08-è´ªå¿ƒç®—æ³•-æ— é‡å åŒºé—´]]ç±»ä¼¼çš„è§£æ³•, å³å°†é—®é¢˜è½¬æ¢æˆ**é‡å åŒºé—´é—®é¢˜**, åŒºé—´çš„è¾¹ç•Œä¸ºå­—æ¯ç¬¬ä¸€æ¬¡å’Œæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®.
```python
class Solution:
    def countLabels(self, s):
        # åˆå§‹åŒ–ä¸€ä¸ªé•¿åº¦ä¸º26çš„åŒºé—´åˆ—è¡¨ï¼Œåˆå§‹å€¼ä¸ºè´Ÿæ— ç©·
        hash = [[float('-inf'), float('-inf')] for _ in range(26)]
        hash_filter = []
        for i in range(len(s)):
            if hash[ord(s[i]) - ord('a')][0] == float('-inf'): # é¦–æ¬¡å‡ºç°
                hash[ord(s[i]) - ord('a')][0] = i
            hash[ord(s[i]) - ord('a')][1] = i # æœ€åä¸€æ¬¡å‡ºç°
        for i in range(len(hash)):
            if hash[i][0] != float('-inf'): # å‰”é™¤æ²¡å‡ºç°è¿‡çš„å­—æ¯
                hash_filter.append(hash[i])
        return hash_filter

    def partitionLabels(self, s):
        res = []
        hash = self.countLabels(s)
        hash.sort(key=lambda x: x[0])  # æŒ‰å·¦è¾¹ç•Œä»å°åˆ°å¤§æ’åº
        rightBoard = hash[0][1]  # è®°å½•æœ€å¤§å³è¾¹ç•Œ
        leftBoard = 0
        for i in range(1, len(hash)):
            if hash[i][0] > rightBoard:  # å‡ºç°åˆ†å‰²ç‚¹
                res.append(rightBoard - leftBoard + 1)
                leftBoard = hash[i][0]
            rightBoard = max(rightBoard, hash[i][1])
        res.append(rightBoard - leftBoard + 1)  # æœ€å³ç«¯
        return res
```

## å¿ƒå¾—

---
## links


## reference
