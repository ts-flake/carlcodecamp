---
status: ðŸ§­å‡†å¤‡
start: 2025-05-25
due: 2025-05-25
topic:
  - ç®—æ³•
  - ä»£ç éšæƒ³å½•
tags:
  - project/ä»£ç éšæƒ³å½•ç®—æ³•è¥
  - è®¡ç®—æœº/ç®—æ³•
  - çŸ¥è¯†ç‚¹
recommend: 2
priority: 1
authors:
  - Donghan
share: "false"
---
## é¢˜ç›®
[135.åˆ†å‘ç³–æžœ | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/candy/description/)

`n`Â ä¸ªå­©å­ç«™æˆä¸€æŽ’. ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `ratings`Â è¡¨ç¤ºæ¯ä¸ªå­©å­çš„è¯„åˆ†.

ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚, ç»™è¿™äº›å­©å­åˆ†å‘ç³–æžœ:
- æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ°Â `1`Â ä¸ªç³–æžœ
- ç›¸é‚»ä¸¤ä¸ªå­©å­è¯„åˆ†æ›´é«˜çš„å­©å­ä¼šèŽ·å¾—æ›´å¤šçš„ç³–æžœ

è¯·ä½ ç»™æ¯ä¸ªå­©å­åˆ†å‘ç³–æžœ, è®¡ç®—å¹¶è¿”å›žéœ€è¦å‡†å¤‡çš„Â **æœ€å°‘ç³–æžœæ•°ç›®**.

## åˆæ­¥è§£ç­”
**åˆ†åˆ«å¤„ç†ä¸¤è¾¹**. å…ˆæ¯”è¾ƒå·¦è¾¹çš„, è‹¥æ¯”å·¦è¾¹å¾—åˆ†é«˜å°±**æ¯”å·¦è¾¹çš„å¤šæ‹¿ä¸€é¢—ç³–**ðŸ¬. å†æ¯”è¾ƒå³è¾¹çš„, **è‹¥æ¯”å³è¾¹å¾—åˆ†é«˜å°±æ¯”å³è¾¹çš„å¤šæ‹¿ä¸€é¢—ç³–**ðŸ¬. å¤„ç†å³è¾¹çš„æ—¶å€™è¦æ³¨æ„**ä¸­é—´é«˜ä¸¤è¾¹ä½Ž**çš„æƒ…å†µåªèƒ½å¤šæ‹¿ä¸€é¢—, è¿™æ ·æ‰æ˜¯æœ€å°‘ç³–æžœæ•°ç›®.
```python
class Solution:
    def candy(self, ratings: List[int]) -> int:
        nums = [1]*len(ratings)
        # æ¯”è¾ƒå·¦è¾¹çš„
        for i in range(1, len(ratings)):
            if ratings[i] > ratings[i-1]:
                nums[i] = nums[i-1] + 1
        # æ¯”è¾ƒå³è¾¹çš„
        for i in range(len(ratings)-2, -1, -1):
            if ratings[i] > ratings[i+1] and nums[i] <= nums[i+1]: # ä¸­é—´é«˜ä¸¤è¾¹ä½Ž
                nums[i] = nums[i+1] + 1
        return sum(nums)
```

## å‚è€ƒè§£ç­”
âœ…æœ¬é¢˜æœ‰**ä¸¤ä¸ªæ–¹å‘**è¦è€ƒè™‘, è¿™ç§æ—¶å€™**ä¸¤ä¸ªæ–¹å‘åˆ†åˆ«å¤„ç†**, âŒåŒæ—¶å¤„ç†ä¼šé¡¾æ­¤å¤±å½¼. åˆæ˜¯**ä¸¤æ¬¡è´ªå¿ƒ**, **ä»Žå·¦å¾€å³**, è‹¥å³è¾¹å¾—åˆ†é«˜, å³è¾¹å¤šæ‹¿ä¸€é¢—ç³–; **ä»Žå³å¾€å·¦**, è‹¥å·¦è¾¹çš„å¾—åˆ†é«˜, å·¦è¾¹å–å³è¾¹åŠ ä¸€ä¸Žè‡ªèº«çš„æœ€å¤§å€¼. è¿™é‡Œçš„ä¸¤ä¸ªæ–¹å‘çš„éåŽ†ä¸èƒ½å˜, å› ä¸ºç»“æžœä¾èµ–äºŽéåŽ†çš„åŽ†å²å€¼.
```python
class Solution:
    def candy(self, ratings: List[int]) -> int:
        n = len(ratings)
        candies = [1] * n
        
        # Forward pass: handle cases where right rating is higher than left
        for i in range(1, n):
            if ratings[i] > ratings[i - 1]:
                candies[i] = candies[i - 1] + 1
        
        # Backward pass: handle cases where left rating is higher than right
        # ä¸€å®šè¦ä»ŽåŽå¾€å‰éåŽ†, å› ä¸ºè¦ç”¨çš„è¿‡åŽ»çš„ç»“æžœ
        for i in range(n - 2, -1, -1):
            if ratings[i] > ratings[i + 1]:
                candies[i] = max(candies[i], candies[i + 1] + 1)
        
        return sum(candies)
```

## å¿ƒå¾—

---
## links


## reference
