## é¢˜ç›®
[202.å¿«ä¹æ•° | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/happy-number/description/)

*å¿«ä¹æ•°*çš„å®šä¹‰ä¸º:
- å¯¹äºä¸€ä¸ªæ­£æ•´æ•°, æ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œ
- ç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1, ä¹Ÿå¯èƒ½æ˜¯*æ— é™å¾ªç¯*, ä½†å§‹ç»ˆå˜ä¸åˆ° 1
- å¦‚æœè¿™ä¸ªè¿‡ç¨‹ç»“æœä¸º 1, é‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°

## åˆæ­¥è§£ç­”
ä¸€å¼€å§‹æ²¡ç†è§£åˆ°*æ— é™å¾ªç¯*çš„å«ä¹‰, ä¸çŸ¥é“ä¸ºä»€ä¹ˆç”¨å“ˆå¸Œè¡¨. ç›´æ¥çœ‹"éšæƒ³å½•â€è§£è¯», æ‰æ˜ç™½è¿™é‡Œçš„å¿«ä¹æ•°è®¡ç®—è¦ä¹ˆç»ˆæ­¢äº True (æ˜¯å¿«ä¹æ•°), è¦ä¹ˆè¿›å…¥å¾ªç¯, å³ `pow2sum` çš„ç»“æœé‡å¤å‡ºç°. ä¸€çœ‹åˆ°*é‡å¤å‡ºç°*å°±çŸ¥é“å¯ä»¥ç”¨å“ˆå¸Œè¡¨äº†.

å› ä¸ºé‡å¤æ„å‘³ç€ç¨‹åºè¿”å› False, æˆ‘ä»¬ç”¨ä¸€ä¸ª set æ¥è®°å½•å‡ºç°è¿‡çš„æ•°å­—.

```python
class Solution:
    def pow2sum(self, n):
        res = 0
        for ni in str(n):
            res += int(ni)**2
        return res

    def isHappy(self, n: int) -> bool:
        record = set()
        while True:
            n = self.pow2sum(n)
            if n in record:
                return False
            if n == 1:
                return True
            record.add(n)
```

## å‚è€ƒè§£ç­”
å‚è€ƒè§£ç­”æœ‰ç”¨ set å’Œ list çš„, åŸºæœ¬ä¸Šéƒ½ä¸€æ ·. ä¸‹é¢è¿™ä¸ªç”¨äº†*å¿«æ…¢æŒ‡é’ˆ*æ¥æ£€æŸ¥ğŸ”„å¾ªç¯, æœ‰ç‚¹æ„æ€, è™½ç„¶æ•ˆç‡ä¸Šæ²¡æœ‰ç”¨ set é«˜, ä½†åˆ©ç”¨äº†ä¹‹å‰åœ¨[[02-é“¾è¡¨-ç¯å½¢é“¾è¡¨II]] é‡Œæ£€æµ‹ç¯çš„æ–¹æ³•. 

```python
class Solution:
   def isHappy(self, n: int) -> bool:        
       slow = n
       fast = n
       while self.get_sum(fast) != 1 and self.get_sum(self.get_sum(fast)):
           slow = self.get_sum(slow)
           fast = self.get_sum(self.get_sum(fast))
           if slow == fast:
               return False
       return True
   def get_sum(self,n: int) -> int: 
       new_num = 0
       while n:
           n, r = divmod(n, 10)
           new_num += r ** 2
       return new_num
```

## å¿ƒå¾—
æœ‰äº›é¢˜, è¿˜æ˜¯è¦èŠ±ç‚¹æ—¶é—´ç†è§£, æ‰¾å¯»å‡è®¾å’Œé€‚é…çš„æ•°æ®ç»“æ„.