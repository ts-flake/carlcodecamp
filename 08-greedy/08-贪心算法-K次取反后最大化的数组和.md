---
status: ğŸ§­å‡†å¤‡
start: 2025-05-23
due: 2025-05-23
topic:
  - ç®—æ³•
  - ä»£ç éšæƒ³å½•
tags:
  - project/ä»£ç éšæƒ³å½•ç®—æ³•è¥
  - è®¡ç®—æœº/ç®—æ³•
  - çŸ¥è¯†ç‚¹
recommend: 1
priority: 1
authors:
  - Donghan
share: "false"
---
## é¢˜ç›®
[1005.Kæ¬¡å–ååæœ€å¤§åŒ–çš„æ•°ç»„å’Œ | åŠ›æ‰£é¢˜ç›®](https://leetcode.cn/problems/maximize-sum-of-array-after-k-negations/description/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `nums`Â å’Œä¸€ä¸ªæ•´æ•°Â `k`, é€‰æ‹©æŸä¸ªä¸‹æ ‡Â `i`Â å¹¶å°†Â `nums[i]`Â æ›¿æ¢ä¸ºÂ `-nums[i]`. é‡å¤è¿™ä¸ªè¿‡ç¨‹æ°å¥½Â `k`Â æ¬¡. å¯ä»¥å¤šæ¬¡é€‰æ‹©åŒä¸€ä¸ªä¸‹æ ‡Â `i`.

ä»¥è¿™ç§æ–¹å¼ä¿®æ”¹æ•°ç»„å, è¿”å›æ•°ç»„Â **å¯èƒ½çš„æœ€å¤§å’Œ**.
## åˆæ­¥è§£ç­”
è¿™é¢˜ç®€å•, è´ªå¿ƒå±€éƒ¨æœ€ä¼˜å°±æ˜¯å–åè´Ÿæ•°, ä½†è¦è€ƒè™‘å¤šç§æƒ…å†µ. æ—¶é—´å¤æ‚åº¦ O(nlog n).
```python
class Solution:
    def largestSumAfterKNegations(self, nums: List[int], k: int) -> int:
        nums.sort() # å…ˆæ’åº, ä»å°åˆ°å¤§
        for i in range(len(nums)):
            if k == 0: break
            if i > 0 and nums[i] >= 0: # é‡åˆ°æ­£æ•°, åˆ¤æ–­ä¸Šä¸€ä¸ªå¤§å°, å–å°, æ¶ˆè€—å®Œå‰©ä½™çš„ k
                if nums[i] > nums[i-1]: nums[i-1] *= (-1)**(k%2)
                else: nums[i] *= (-1)**(k%2)
                break
            if i == len(nums)-1: # éå†ç»“æŸ, æ¶ˆè€—å®Œå‰©ä½™çš„ k
                nums[i] *= (-1)**(k%2)
                break
            nums[i] = -nums[i]
            k -= 1
        return sum(nums)

```

## å‚è€ƒè§£ç­”
ğŸš¨å…¶å®æœ¬é¢˜ç”¨äº†**ä¸¤æ¬¡è´ªå¿ƒ**, ä¸€æ¬¡å–åè´Ÿæ•°, å¦ä¸€æ¬¡ç”¨æ¥æ¶ˆè€—å‰©ä½™çš„`k`äºç»å¯¹å€¼æœ€å°çš„å…ƒç´ .
```python
class Solution:
    def largestSumAfterKNegations(self, A: List[int], K: int) -> int:
        A.sort(key=lambda x: abs(x), reverse=True)  # ç¬¬ä¸€æ­¥ï¼šæŒ‰ç…§ç»å¯¹å€¼é™åºæ’åºæ•°ç»„A

        for i in range(len(A)):  # ç¬¬äºŒæ­¥ï¼šæ‰§è¡ŒKæ¬¡å–åæ“ä½œ
            if A[i] < 0 and K > 0:
                A[i] *= -1
                K -= 1

        if K % 2 == 1:  # ç¬¬ä¸‰æ­¥ï¼šå¦‚æœKè¿˜æœ‰å‰©ä½™æ¬¡æ•°ï¼Œå°†ç»å¯¹å€¼æœ€å°çš„å…ƒç´ å–å
            A[-1] *= -1

        result = sum(A)  # ç¬¬å››æ­¥ï¼šè®¡ç®—æ•°ç»„Açš„å…ƒç´ å’Œ
        return result
```
## å¿ƒå¾—

---
## links


## reference
